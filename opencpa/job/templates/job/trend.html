{% extends "job/layout.html" %}

{% load staticfiles %}

{% block head-scripts %}
<script type="text/javascript">
	window.onload = function () {
		var adminData = {{adminData|safe}} 
		var adminChart = new CanvasJS.Chart("adminChart", {
			animationEnabled: true,
			axisX:{
				interval: 1,
				gridThickness: 0,
				labelFontSize: 12,
				labelFontStyle: "normal",
				labelFontWeight: "normal",
				labelFontFamily: "Lucida Sans Unicode"
			},
			data: [{
				type: "bar",
				name: "sysname",
				axisYType: "secondary",
				color: "steelblue",
				dataPoints: adminData, 
			}]
		});
		adminChart.render();

		var techData = {{techData|safe}} 
		var techChart = new CanvasJS.Chart("techChart", {
			animationEnabled: true,
			axisX:{
				interval: 1,
				gridThickness: 0,
				labelFontSize: 12,
				labelFontStyle: "normal",
				labelFontWeight: "normal",
				labelFontFamily: "Lucida Sans Unicode"
			},
			data: [{
				type: "bar",
				name: "sysname",
				axisYType: "secondary",
				color: "steelblue",
				dataPoints: techData
			}]
		});
		techChart.render();
	}
</script>
<script src="{% static 'job/scripts/canvasjs.min.js' %}"></script>

{% endblock %}

{% block navbar %}
<li><a href="{% url 'job:trend' %}">各類科開缺趨勢</a></li>
{% endblock %}

{% block navbar-right %}
{% endblock%}

{% block content %}
<h4>行政類</h4>
<div id="adminChart" style="height: 300px; width: 100%;"></div>
<hr>
<h4>技術類</h4>
<div id="techChart" style="height: 300px; width: 100%;"></div>
<p style="text-align: right;">資料累計起始日期：{{start_date | default:"2015-04-15"}}</p>

{% endblock%}

